{"ast":null,"code":"var _jsxFileName = \"/Users/ivan/Desktop/mental-health/app/src/Suggestions.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Suggestions() {\n  _s();\n  {/* State variable for counselor */}\n  const [counselors, setCounselors] = useState(null);\n  {/* State variable for facilities */}\n  const [facilities, setFacilities] = useState(null);\n  {/* State variable for error */}\n  const [error, setError] = useState(null);\n  {/* State variable for loading */}\n  const [loading, setLoading] = useState(true);\n  {/* Sets the current position and filters the possible locations. */}\n  useEffect(() => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(sendPosition, showError);\n    } else {\n      alert(\"Geolocation is not supported by this browser.\");\n    }\n    {/* Connects the backend API. */}\n    function sendPosition(position) {\n      let latitude = position.coords.latitude;\n      let longitude = position.coords.longitude;\n      fetch(\"/find_counselors_location\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          latitude,\n          longitude\n        })\n      }).then(response => {\n        console.log(response);\n        if (!response.ok) {\n          throw new Error(\"Network response was not ok\");\n        }\n        return response.json();\n      }).then(data => {\n        console.log(data.counselors);\n        setCounselors(data.counselors);\n      }).catch(error => {\n        setError(error);\n      }).finally(() => setLoading(false));\n      fetch(\"/find_mental_health_facilities\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          latitude,\n          longitude\n        })\n      }).then(response => {\n        console.log(response);\n        if (!response.ok) {\n          throw new Error(\"Network response was not ok\");\n        }\n        return response.json();\n      }).then(data => {\n        console.log(data.mentalHealthFacilities);\n        setFacilities(data.mentalHealthFacilities);\n      }).catch(error => {\n        setError(error);\n      }).finally(() => setLoading(false));\n    }\n    {/* In case there is a location issue. */}\n    function showError(error) {\n      let errorMessage;\n      switch (error.code) {\n        case error.PERMISSION_DENIED:\n          errorMessage = \"User denied the request for Geolocation.\";\n          break;\n        case error.POSITION_UNAVAILABLE:\n          errorMessage = \"Location information is unavailable.\";\n          break;\n        case error.TIMEOUT:\n          errorMessage = \"The request to get user location timed out.\";\n          break;\n        case error.UNKNOWN_ERROR:\n          errorMessage = \"An unknown error occurred.\";\n          break;\n      }\n      console.log(errorMessage);\n    }\n  }, []);\n  {/* Tries to load the locations and spews error if location isn't found. */}\n  if (loading) console.log(\"Loading...\");\n  if (error) alert(\"A network error was encountered\");\n  return counselors && facilities && /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"recommendation-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"recommendations\",\n      children: \"Recommendation System\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"recommendation-desc\",\n      children: \"We want to help improve your mental health by finding resources for you such as YouTube videos, websites, books, nearby events you may enjoy, or a safe space to talk to someone.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Counselors:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recommendations-array\",\n      children: counselors.map((counselor, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"recommendation\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: counselor.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Address: \", counselor.address]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Rating: \", counselor.rating]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Distance: \", counselor.distance]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Mental Health Facilities:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recommendations-array\",\n      children: facilities.map((facility, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"recommendation\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: facility.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Address: \", facility.address]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Rating: \", facility.rating]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Distance: \", facility.distance]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 7\n  }, this);\n}\n_s(Suggestions, \"/q6CAQdXAoYGZ7Vi4Q3f24jrbE0=\");\n_c = Suggestions;\nexport default Suggestions;\nvar _c;\n$RefreshReg$(_c, \"Suggestions\");","map":{"version":3,"names":["useState","useEffect","jsxDEV","_jsxDEV","Suggestions","_s","counselors","setCounselors","facilities","setFacilities","error","setError","loading","setLoading","navigator","geolocation","getCurrentPosition","sendPosition","showError","alert","position","latitude","coords","longitude","fetch","method","headers","body","JSON","stringify","then","response","console","log","ok","Error","json","data","catch","finally","mentalHealthFacilities","errorMessage","code","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","UNKNOWN_ERROR","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","counselor","index","name","address","rating","distance","facility","_c","$RefreshReg$"],"sources":["/Users/ivan/Desktop/mental-health/app/src/Suggestions.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\n\nfunction Suggestions() {\n  {/* State variable for counselor */}\n  const [counselors, setCounselors] = useState(null);\n\n  {/* State variable for facilities */}\n  const [facilities, setFacilities] = useState(null);\n\n  {/* State variable for error */}\n  const [error, setError] = useState(null);\n\n  {/* State variable for loading */}\n  const [loading, setLoading] = useState(true);\n\n  {/* Sets the current position and filters the possible locations. */}\n  useEffect(() => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(sendPosition, showError);\n    } else {\n      alert(\"Geolocation is not supported by this browser.\");\n    }\n\n    {/* Connects the backend API. */}\n    function sendPosition(position) {\n      let latitude = position.coords.latitude;\n      let longitude = position.coords.longitude;\n      fetch(\"/find_counselors_location\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ latitude, longitude }),\n      })\n        .then((response) => {\n          console.log(response);\n          if (!response.ok) {\n            throw new Error(\"Network response was not ok\");\n          }\n          return response.json();\n        })\n        .then((data) => {\n          console.log(data.counselors);\n          setCounselors(data.counselors);\n        })\n        .catch((error) => {\n          setError(error);\n        })\n        .finally(() => setLoading(false));\n      fetch(\"/find_mental_health_facilities\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ latitude, longitude }),\n      })\n        .then((response) => {\n          console.log(response);\n          if (!response.ok) {\n            throw new Error(\"Network response was not ok\");\n          }\n          return response.json();\n        })\n        .then((data) => {\n          console.log(data.mentalHealthFacilities);\n          setFacilities(data.mentalHealthFacilities);\n        })\n        .catch((error) => {\n          setError(error);\n        })\n        .finally(() => setLoading(false));\n    }\n\n    {/* In case there is a location issue. */}\n    function showError(error) {\n      let errorMessage;\n      switch (error.code) {\n        case error.PERMISSION_DENIED:\n          errorMessage = \"User denied the request for Geolocation.\";\n          break;\n        case error.POSITION_UNAVAILABLE:\n          errorMessage = \"Location information is unavailable.\";\n          break;\n        case error.TIMEOUT:\n          errorMessage = \"The request to get user location timed out.\";\n          break;\n        case error.UNKNOWN_ERROR:\n          errorMessage = \"An unknown error occurred.\";\n          break;\n      }\n      console.log(errorMessage);\n    }\n  }, []);\n\n  {/* Tries to load the locations and spews error if location isn't found. */}\n  if (loading) console.log(\"Loading...\");\n  if (error) alert(\"A network error was encountered\");\n\n  return (\n    counselors &&\n    facilities && (\n      <div className=\"recommendation-page\">\n        {/*Suggestions content begins */}\n        <h1 className=\"recommendations\">Recommendation System</h1>\n        {/* Gives a description for the recommendation system. */}\n        <p className=\"recommendation-desc\">\n          We want to help improve your mental health by finding resources for\n          you such as YouTube videos, websites, books, nearby events you may\n          enjoy, or a safe space to talk to someone.\n        </p>\n        <h2>Counselors:</h2>\n        {/* Prints out all the possible counselors. */}\n        <div className=\"recommendations-array\">\n          {counselors.map((counselor, index) => (\n            <div className=\"recommendation\">\n              <div>{counselor.name}</div>\n              <hr></hr>\n              <div>Address: {counselor.address}</div>\n              <div>Rating: {counselor.rating}</div>\n              <div>Distance: {counselor.distance}</div>\n            </div>\n          ))}\n        </div>\n        {/* Prints out all the mental health facilities. */}\n        <h2>Mental Health Facilities:</h2>\n        <div className=\"recommendations-array\">\n          {facilities.map((facility, index) => (\n            <div className=\"recommendation\">\n              <div>{facility.name}</div>\n              <hr></hr>\n              <div>Address: {facility.address}</div>\n              <div>Rating: {facility.rating}</div>\n              <div>Distance: {facility.distance}</div>\n            </div>\n          ))}\n        </div>\n      </div>\n    )\n  );\n}\n\nexport default Suggestions;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}